# 面试题一
一、四层负载均衡和七层负载均衡  为什么四层负载均衡比七层负载均衡性能更好
1、四层负载均衡不需要和客户端建立连接 一般进行的是透传 负载均衡设备整体压力更小


二、异地双活的实现方式   以及otter的原理


双向同步（双向同步是在数据同步中最难搞的一种场景，Otter可以很好的应对这种场景，Otter有避免回环算法和数据一致性算法两种特性，保证双A机房模式下，数据保证最终一致性）
1）避免回环算法 (通用的解决方案，支持大部分关系型数据库)
2）数据一致性算法 (保证双A机房模式下，数据保证最终一致性，亮点




三、访问一个域名  查询报表等 的一个整体流程和路径（访问网站的整体流程）
1、DNS解析 浏览器本地缓存 本地DNS缓存 hosts 文件  DNS服务器（ROOT-TL-Authoritative ）  获取IP
![alt text](./image/image-1.png)


2、和IP建立连接（TCP的三次握手）  四层LB   http 传输数据等  


 七层LB  网关（鉴权 限流等）到后端应用 查询数据库等

 ![alt text](./image/curlweb.png)

3、返回结果

 - 客户端部分
   DNS解析的流程:

   和服务端建立连接  TCP的三次握手 以及https的证书验证  数据传输   四次挥手  

   DNS解析的两种查询方式  

   递归查询：本地DNS服务器负责执行完整的查询过程，直到找到正确的IP地址，然后将结果返回给客户端。
   迭代查询：本地DNS服务器向根DNS服务器发起查询，根DNS服务器不会直接给出IP地址，而是返回下一个应该查询的权威DNS服务器的信息。本地DNS服务器继续向这些权威服务器查询，直到找到正确的IP地址
 - 服务端部分
  

 - 客户端和服务端部分

四、微服务架构 以及dubbo的优缺点


五、链路监控的原理

Cat Twitter  开源的 Zipkin
韩国开源的Pinpoint
SkyWalking
Jeager
商业化的产品 例如听云等
自建 淘宝鹰眼  google Dapper 等

TraceID 随着客户的请求传递到其他服务中
SpanID 是分布式系统和微服务架构中用于跟踪请求的唯一标识符
ParentID 是分布式系统和微服务架构中用于跟踪请求的标识符之一  
六、 项目  
1. 项目的背景
2. 项目的技术方案
3. 项目中的角色
4. 项目中的挑战以及收获

七、故障 （排查问题的思路） 
印象深刻的故障  

考察中间扮演的角色 以及排查问题的思路
